{"version":3,"sources":["pages/explore/style/suggestedUserListStyle.js","pages/explore/components/SuggestedUserList.js"],"names":["SuggestedUsersWrapper","styled","div","Title","h2","UserWrapper","BlurBorderWrapper","UserContent","TransitionDiv","UserListUl","ul","UserItemLi","li","UserItemWrapper","UserItemContent","ImgWrapperA","a","Img","img","NameWrapperA","Name","Desc","FollowButton","PrevButton","button","NextButton","SuggestedUserList","suggestedUserList","this","props","toJS","userItemList","map","userItem","node","user","id","picUrl","profile_pic_url","userName","username","isVerified","is_verified","fullName","full_name","description","push","key","style","opacity","width","marginLeft","height","alt","src","title","href","className","type","prevBtnShow","nextBtnShow","handleReturnPrev","handleTurnNext","to","ref","transitionDiv","transitionDuration","transform","getUserItemList","onClick","getSuggestedUserList","Component","getOriginTransformX","originTransformX","replace","parseInt","connect","state","getIn","dispatch","newTransformX","actionCreators","pageButtonShowAction"],"mappings":"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","file":"static/js/3.ac630574.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const SuggestedUsersWrapper = styled.div `\n    @media (min-width: 736px){\n        margin-bottom: 60px;\n    }\n    @media (max-width: 735px){\n        display: none;\n    }\n`;\n\nexport const Title = styled.h2 `\n    color: #999;\n    font-size: 14px;\n    font-weight: 600;\n    line-height: 18px;\n    margin-bottom: 16px;\n    text-align: left;\n    a,a:visited {\n        color: #3897f0;\n        display: block;\n        flex-grow: 0;\n        float: right;\n        font-size: 14px;\n        font-weight: 600;\n    }\n`;\n\nexport const UserWrapper = styled.div `\n    padding-bottom: 16px;\n    padding-top: 16px;\n    flex: 0 0 auto;\n    justify-content: flex-start;\n`;\n\nexport const BlurBorderWrapper = styled.div `\n    position: relative;\n    &::before {\n        left: 0;\n        background-image: linear-gradient(to left,rgba(250,250,250,0),#fafafa 100%);\n        z-index: 10;\n    }\n    &::after {\n        right: 0;\n        background-image: linear-gradient(to right,rgba(250,250,250,0),#fafafa 100%);\n        z-index: 1;\n    }\n    &::before, &::after{\n        content: '';\n        height: 100%;\n        pointer-events: none;\n        position: absolute;\n        width: 16px;\n    }\n    &>button{\n        justify-self: center;\n        outline: 0;\n        padding: 16px 8px;\n        position: absolute;\n        top: 35%;\n        cursor: pointer;\n        display: flex;\n        overflow: hidden;\n        text-indent: 110%;\n        white-space: nowrap;\n        color: #262626;\n        font-family: -apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif;\n        font-size: 14px;\n        line-height: 18px;\n        background: 0 0;\n        border: 0;\n        flex: 0 0 auto;\n        justify-content: center;\n        align-items: center;\n        &.hidden{\n            display: none;\n        }\n    }\n`;\n\nexport const UserContent = styled.div `\n    display: block;\n    line-height: 0;\n    overflow: hidden;\n`;\n\nexport const TransitionDiv = styled.div `\n    flex-direction: row;\n    outline: 0;\n    overflow-x: visible;\n`;\n\nexport const UserListUl = styled.ul `\n    padding-left: 0px;\n    padding-right: 24px;\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    list-style: none;\n`;\n\nexport const UserItemLi = styled.li `\n    transition-duration: .05s,.3s;\n    transition-property: opacity,width;\n    transition-timing-function: linear,ease;\n    flex: 0 0 auto;\n    overflow: hidden;\n`;\n\nexport const UserItemWrapper = styled.div `\n    flex: 0 0 auto;\n    overflow: hidden;\n`;\n\nexport const UserItemContent = styled.div `\n    padding: 16px;\n    flex: 0 0 auto;\n    justify-content: flex-start;\n    align-items: center;\n    background-color: #fff;\n    border-radius: 4px;\n    border: 1px solid #dbdbdb;\n`;\n\nexport const ImgWrapperA = styled.a `\n    cursor: pointer;\n    background-color: #fafafa;\n    border-radius: 50%;\n    box-sizing: border-box;\n    display: block;\n    flex: 0 0 auto;\n    overflow: hidden;\n    position: relative;\n    &::after {\n        border: 1px solid rgba(0,0,0,.0975);\n        border-radius: 50%;\n        bottom: 0;\n        content: '';\n        left: 0;\n        position: absolute;\n        right: 0;\n        top: 0;\n    }\n`;\n\nexport const Img = styled.img `\n    height: 100%;\n    width: 100%;\n`;\n\nexport const NameWrapperA = styled.a `\n    margin: 16px auto 8px;\n    flex: 0 0 auto;\n    font-weight: 600;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    justify-content: flex-start;\n    align-items: center;\n    flex-direction: row;\n    display: flex;\n    line-height: 18px;\n    &>i{\n        margin-left: 4px;\n        flex: 0 0 auto;\n        font-size: 12px;\n        color: #3897f0;\n    }\n`;\n\nexport const Name = styled.div `\n    text-align: center;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    color: #262626;\n    font-weight: 600;\n    font-size: 14px;\n`;\n\nexport const Desc = styled.div `\n    flex: 0 0 auto;\n    text-align: center;\n    white-space: pre-wrap;\n    color: #999;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 18px;\n    margin-bottom: 8px;\n`;\n\nexport const FollowButton = styled.div `\n    flex: 0 0 auto;\n    border: 1px solid transparent;\n    background-color: #3897f0;\n    border-radius: 4px;\n    color: #fff;\n    position: relative;\n    appearance: none;\n    box-sizing: border-box;\n    cursor: pointer;\n    font-weight: 600;\n    padding: 5px 9px;\n    text-align: center;\n    text-overflow: ellipsis;\n    user-select: none;\n    font-size: 14px;\n    line-height: 18px;\n}\n`;\n\nexport const PrevButton = styled.button `\n    left: 0;\n    &>i{\n        color: rgba(0, 0, 15, .5);\n        position: relative;\n        left: -24px;\n        font-size: 24px;\n    }\n`;\n\nexport const NextButton = styled.button `\n    right: 0;\n    &>i{\n        color: rgba(0, 0, 15, .5);\n        position: relative;\n        right: 24px;\n        font-size: 24px;\n    }\n`;","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { actionCreators } from '../store';\nimport {\n    SuggestedUsersWrapper,\n    Title,\n    UserWrapper,\n    BlurBorderWrapper,\n    UserContent,\n    TransitionDiv,\n    UserListUl,\n    UserItemLi,\n    UserItemWrapper,\n    UserItemContent,\n    ImgWrapperA,\n    Img,\n    NameWrapperA,\n    Name,\n    Desc,\n    FollowButton,\n    PrevButton,\n    NextButton\n} from '../style/suggestedUserListStyle';\n\n\nclass SuggestedUserList extends Component {\n    getUserItemList() {\n        const suggestedUserList = this.props.suggestedUserList.toJS();\n        const userItemList = [];\n        suggestedUserList.map(userItem => {\n            let node = userItem.node;\n            let user = node.user;\n            let id = user.id;\n            let picUrl = user.profile_pic_url;\n            let userName = user.username;\n            let isVerified = user.is_verified;\n            let fullName = user.full_name;\n            let description = node.description;\n            return userItemList.push(\n                <UserItemLi key={id} style={{opacity: 1, width: 200}}>\n                    <UserItemWrapper style={{marginLeft: 24, width: 176}}>\n                        <UserItemContent>\n                            <ImgWrapperA style={{width: 56, height: 56}}>\n                                <Img alt={userName+'的头像'} src={picUrl}/>\n                            </ImgWrapperA>\n                            <NameWrapperA title={fullName} href=\"/beingsalmankhan/\">\n                                <Name>{userName}</Name>\n                                <i className={isVerified ? \"iconfont\" : \"\"} title=\"已验证\">&#xe602;</i>\n                            </NameWrapperA>\n                            <Desc style={{height: 28}}>{description}</Desc>\n                            <FollowButton type=\"button\">关注</FollowButton>\n                        </UserItemContent>\n                    </UserItemWrapper>\n                </UserItemLi>\n            )\n        })\n        return userItemList;\n    }\n\n    render() {\n        const { prevBtnShow, nextBtnShow, handleReturnPrev, handleTurnNext } = this.props;\n        return (\n            <SuggestedUsersWrapper>\n                <Title>\n                    发现用户    \n                    <Link to='/'>\n                        查看全部\n                    </Link>\n                </Title>\n                <UserWrapper>\n                    <BlurBorderWrapper>\n                        <UserContent>\n                            <TransitionDiv \n                            ref={transitionDiv=>this.transitionDiv=transitionDiv}\n                            style={{transitionDuration: '0', transform: 'translateX(0)'}}>\n                                <UserListUl>\n                                    {this.getUserItemList()}\n                                </UserListUl>\n                            </TransitionDiv>\n                        </UserContent>\n                        <PrevButton \n                        className={prevBtnShow ? '' : 'hidden'}\n                        onClick={()=>{handleReturnPrev(this.transitionDiv)}}>\n                            <i className='iconfont'>&#xe62c;</i>\n                        </PrevButton>\n                        <NextButton \n                        className={nextBtnShow ? '' : 'hidden'}\n                        onClick={()=>{handleTurnNext(this.transitionDiv)}}>\n                            <i className='iconfont'>&#xe600;</i>\n                        </NextButton>\n                    </BlurBorderWrapper>\n                </UserWrapper>\n            </SuggestedUsersWrapper>\n\n        )\n    };\n\n    componentDidMount() {\n        this.props.getSuggestedUserList();\n    };\n};\n\nconst getOriginTransformX = transitionDiv => {\n    let originTransformX = transitionDiv.style.transform.replace(/[^-\\d]/ig, '');\n    if (originTransformX) {\n        originTransformX = parseInt(originTransformX, 10);\n    } else {\n        originTransformX = 0;\n    }\n    return originTransformX;\n}\n\nconst mapState = (state) => ({\n    suggestedUserList: state.getIn(['explore', 'suggestedUserList']),\n    prevBtnShow: state.getIn(['explore', 'prevBtnShow']),\n    nextBtnShow: state.getIn(['explore', 'nextBtnShow'])\n});\n\nconst mapDispatch = (dispatch) => ({\n    handleReturnPrev(transitionDiv) {\n        let originTransformX = getOriginTransformX(transitionDiv);\n        if (originTransformX < 0) {\n            let newTransformX = originTransformX + 800;\n            transitionDiv.style.transitionDuration = '1.5s';\n            transitionDiv.style.transform = `translateX(${newTransformX}px)`;\n            dispatch(actionCreators.pageButtonShowAction(true, true));\n        }\n        if (originTransformX === -800) {\n            dispatch(actionCreators.pageButtonShowAction(false, true))\n        }\n    },\n    handleTurnNext(transitionDiv) {\n        let originTransformX = getOriginTransformX(transitionDiv);\n        if (originTransformX > -5600) {\n            let newTransformX = originTransformX - 800;\n            transitionDiv.style.transitionDuration = '1.5s';\n            transitionDiv.style.transform = `translateX(${newTransformX}px)`;\n            dispatch(actionCreators.pageButtonShowAction(true, true));\n        }\n        if (originTransformX === -4800) {\n            dispatch(actionCreators.pageButtonShowAction(true, false));\n        }\n    },\n    getSuggestedUserList() {\n        dispatch(actionCreators.getSuggestedUserList());\n    }\n\n});\n\nexport default connect(mapState, mapDispatch)(SuggestedUserList);"],"sourceRoot":""}